<!DOCTYPE html>
<html lang="en">
    <head>
        <style type="text/css">
        </style>
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <link rel="stylesheet" type="text/css" href="vendor/css/bootstrap.min.css">
        <link rel="stylesheet" type="text/css" href="vendor/css/bootstrap-responsive.min.css">
        <script type="text/javascript" src="//ajax.googleapis.com/ajax/libs/jquery/1.9.0/jquery.min.js"></script>
        <script type="text/javascript" src="vendor/underscore.min.js"></script>
        <script type="text/javascript" src="vendor/underscore.string.min.js"></script>
        <script type="text/javascript" src="vendor/backbone.min.js"></script>
        <script type="text/javascript" src="vendor/backbone.marionette.min.js"></script>
        <script type="text/javascript" src="vendor/bootstrap.min.js"></script>

        <script type="text/javascript" src="src/bootstrap.js"></script>
        <script type="text/javascript" src="src/javascripsum.js"></script>
        <script type="text/javascript" src="src/factories/app.js"></script>
        <script type="text/javascript" src="src/factories/ipsumSelectorView.js"></script>
        <script type="text/javascript" src="src/factories/generatorView.js"></script>
        <script type="text/javascript" src="src/factories/paragraphCountView.js"></script>
        <script type="text/javascript" src="src/factories/outputView.js"></script>
        <script type="text/javascript" src="src/factories/phraseListController.js"></script>
        <script type="text/javascript" src="src/factories/editorView.js"></script>
        <script type="text/javascript" src="src/factories/glossaryView.js"></script>
        <script type="text/javascript" src="src/util/generator.js"></script>
        <script type="text/javascript" src="src/models/ipsumList.js"></script>
        <script type="text/javascript" src="src/models/phraseList.js"></script>
        <script type="text/javascript" src="src/models/phrase.js"></script>

        <script id="main-tpl" type="text/template">
          <div class="row">
            <div class="offset1 span3">
              <h5>Ipsum</h5>
            </div>
            <div class="offset1 span3">
              <h5>Num. Paragraphs</h5>
            </div>
          </div>
          <div class="row">
            <div class="offset1 span3">
              <div id="ipsum-selector"></div>
            </div>
            <div class="offset1 span3">
              <div id="paragraph-count-container"></div>
            </div>
            <div class="offset1 span2">
              <div id="generator-container"></div>
            </div>
          </div>
          <div id="output-container"></div>
          <div id="glossary-container"></div>
          <div id="editor-container"></div>
        </script>

        <script id="ipsum-selector-tpl" type="text/template">
          <select>
            <% _.each(ipsums, function(ipsum) { %>
            <option><%= ipsum.name %></option>
            <% }); %>
          </select>
        </script>

        <script id="generator-tpl" type="text/template">
          <a class="generate btn btn-primary">Generate</a>
        </script>

        <script id="paragraph-count-tpl" type="text/template">
          <input class='num-paragraphs' min="1" value="3" type='number'></input>
        </script>

        <script id="output-tpl" type="text/template">
          <div class="hero-unit">
            <% _.each(paragraphs, function(paragraph) { %>
              <p><%= paragraph %></p>
            <% }); %>
          </div>
        </script>

        <script id="editor-tpl" type="text/template">
          <div class="row">
            <div class="span4 offset4">
              <h4>Editors</h4>
              <ul>
                <% _.each(editors, function(editor) { %>
                  <li>
                    <% if (editor.url) { %>
                      <a href="<%= editor.url %>"><%= editor.name %></a>
                    <% } else { %>
                      <%= editor.name %>
                    <% } %>
                  </li>
                <% }); %>
              </ul>
            </div>
            <div class="offset4"></div>
          </div>
        </script>

        <script id="glossary-tpl" type="text/template">
          <div class="row">
            <div class="span4 offset4 well well-small">
              <h3>Glossary</h3>
              <dl>
              <% _.each(phrases, function(phrase) { %>
                <dt>
                  <% if (phrase.url) { %>
                    <a href="<%= phrase.url %>">
                      <%= phrase.phrase %>
                    </a>
                  <% } else { %>
                    <%= phrase.phrase %>
                  <% } %>
                </dt>
                <dd>
                  <%= phrase.definition %>
                </dd>
              <% }) %>
              </dl>
            </div>
            <div class="offset4"></div>
          </div>
        </script>

        <script type="text/javascript">
            $(function() {
              var doc = $("<div></div>");
              window.marionetteApp = Javascripsum.Factories.makeApp();
              window.marionetteApp.start({documentSelector: doc});
              $("#main").append(doc);
            });
        </script>
    </head>
    <body>
      <div class="container">
        <h1>Javascripsum</h1>
        <div id="main"></div>
        <div class="footer">
          &copy; 2012-2013 Mark Rushakoff
        </div>
      </div>
    </body>
</html>
